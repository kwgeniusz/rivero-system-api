webpackJsonp([0],{695:function(e,t,a){"use strict";function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}Object.defineProperty(t,"__esModule",{value:!0}),t.default={mounted:function(){var e=this;axios.get("departments/company").then(function(t){e.selectCompanys=t.data.map(function(e){return{id:e.companyId,vText:e.companyName}})}),axios.get("departments/parent").then(function(t){e.parents=t.data}),this.editId>0&&axios.get("departments/edit/"+this.editId).then(function(t){e.parentsData=t.data,e.selectCompany=document.querySelector("#selectCompani").value=e.parentsData[0].companyId,e.nameCompany=document.querySelector("#department_name").value=e.parentsData[0].departmentName,e.selectDepartmen=document.querySelector("#selectDepartmen").value=e.parentsData[0].parentDepartmentId,e.deparmetIds=e.parentsData[0].departmentId}),console.log("Component mounted.")},data:function(){var e;return n(e={parents:[],parentsData:[],selectCompanys:[],selectCompany:0,nameCompany:"",selectDepartmen:0,bgcolor:""},"selectCompany",""),n(e,"deparmetIds",""),n(e,"nameCompany",""),n(e,"selectDepartmen",""),e},computed:{addSuccess:function(){return{background:"#dff0d8"}},ediPrimary:function(){return{background:"#d9edf7"}}},props:{editId:"",nameField1:"",nameField2:"",nameField3:""},methods:{newCompany:function(){if(0===this.editId){var e={companyId:this.selectCompany,departmentName:this.nameCompany,parentDepartmentId:this.selectDepartmen};document.querySelector("#formDepartment").reset(),axios.post("departments",e).then(function(e){alert("Success")}).catch(function(e){alert("Faile"),console.log(e)})}else{var t={companyId:this.selectCompany,departmentName:this.nameCompany,parentDepartmentId:this.selectDepartmen},a="departments/update/"+this.deparmetIds;axios.put(a,t).then(function(e){alert("Success")}).catch(function(e){console.log(e)})}},cancf:function(e){console.log("vista a mostrar: "+e),this.$emit("showlist",0)}}}},696:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6 col-md-offset-3"},[a("div",{staticClass:"panel panel-default"},[0===e.editId?a("div",{staticClass:"panel-heading",style:e.addSuccess},[a("h4",{staticClass:"text-uppercase"},[e._v("Agregar Departamento")])]):a("div",{staticClass:"panel-heading",style:e.ediPrimary},[a("h4",{staticClass:"text-uppercase"},[e._v("Actualizar Departamento")])]),e._v(" "),a("div",{staticClass:"panel-body ",class:[e.bgcolor]},[a("form",{staticClass:"form",attrs:{role:"form",id:"formDepartment"},on:{submit:function(t){return t.preventDefault(),e.newCompany()}}},[a("div",{staticClass:"form-group col-md-7"},[a("label",{staticClass:"form-group",attrs:{for:"selectCompani"},domProps:{textContent:e._s(e.nameField1)}}),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.selectCompany,expression:"selectCompany"}],staticClass:"form-control",attrs:{id:"selectCompani"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.selectCompany=t.target.multiple?a:a[0]}}},e._l(e.selectCompanys,function(t){return a("option",{key:t.id,domProps:{value:t.id}},[e._v(e._s(t.vText))])}),0)]),e._v(" "),a("div",{staticClass:"form-group col-md-9"},[a("label",{staticClass:"form-group",attrs:{for:"department_name"},domProps:{textContent:e._s(e.nameField2)}}),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.nameCompany,expression:"nameCompany"}],staticClass:"form-control",attrs:{type:"text",id:"department_name",name:"company",placeholder:e.nameField2},domProps:{value:e.nameCompany},on:{input:function(t){t.target.composing||(e.nameCompany=t.target.value)}}})]),e._v(" "),a("div",{staticClass:"form-group col-md-7"},[a("label",{staticClass:"form-group",attrs:{for:"selectDepartmen"},domProps:{textContent:e._s(e.nameField3)}}),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.selectDepartmen,expression:"selectDepartmen"}],staticClass:"form-control",attrs:{id:"selectDepartmen"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.selectDepartmen=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"0",selected:""}},[e._v("No")]),e._v(" "),e._l(e.parents,function(t){return a("option",{key:t.departmentId,domProps:{value:t.departmentId}},[e._v(" "+e._s(t.departmentName)+" ")])})],2)]),e._v(" "),0===e.editId?a("div",[a("button-form",{attrs:{buttonType:1},on:{cancf:e.cancf}})],1):e._e(),e._v(" "),e.editId>0?a("div",[a("button-form",{attrs:{buttonType:2},on:{cancf:e.cancf}})],1):e._e()])])])])])},staticRenderFns:[]}},718:function(e,t,a){var n=a(1)(a(695),a(696),!1,null,null,null);e.exports=n.exports}});